{% extends 'base.html' %}
{% load static %}

{% block content %}
<form method="POST">
    {% csrf_token %}
    {{ form.as_p }}

    <div id="teacher_fields" style="display: none;">
        <label for="id_department">Department:</label>
        <input type="text" name="department" id="id_department">
    </div>

    <div id="student_fields" style="display: none;">
        <label for="id_school_name">School Name:</label>
        <input type="text" name="school_name" id="id_school_name">
    </div>

    <button type="submit">Register</button>
</form>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const roleSelect = document.querySelector("#id_role");
        const teacherFields = document.getElementById("teacher_fields");
        const studentFields = document.getElementById("student_fields");

        function toggleFields() {
            const role = roleSelect.value;
            if (role === "teacher") {
                teacherFields.style.display = "block";
                studentFields.style.display = "none";
            } else if (role === "student") {
                teacherFields.style.display = "none";
                studentFields.style.display = "block";
            } else {
                teacherFields.style.display = "none";
                studentFields.style.display = "none";
            }
        }

        roleSelect.addEventListener("change", toggleFields);
        toggleFields();  // Gọi để chắc chắn hiển thị đúng khi tải trang
    });
</script>


{% endblock %}